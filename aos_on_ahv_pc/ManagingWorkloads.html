<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Managing Workloads | ktelep.github.io</title><meta name="description" content="Homepage of Kurt Telep">
    <link rel="preload" href="/assets/style-PoWje89h.css" as="style"><link rel="stylesheet" href="/assets/style-PoWje89h.css">
    <link rel="modulepreload" href="/assets/app-CjI7Eko0.js"><link rel="modulepreload" href="/assets/ManagingWorkloads.html-DGjrtQMw.js"><link rel="modulepreload" href="/assets/aos_on_ahv_wld_menu-Cj6zz9UP.js">
    <link rel="prefetch" href="/assets/index.html-swjFZiQ8.js" as="script"><link rel="prefetch" href="/assets/bootcamps.html-DMnNJN9R.js" as="script"><link rel="prefetch" href="/assets/get-started.html-C1106jvX.js" as="script"><link rel="prefetch" href="/assets/ntnxce.html-Dix7XwdB.js" as="script"><link rel="prefetch" href="/assets/projects.html-Evxj0ji4.js" as="script"><link rel="prefetch" href="/assets/Configuration.html-CxAK81Lh.js" as="script"><link rel="prefetch" href="/assets/DataProtection.html-G1fiG3ji.js" as="script"><link rel="prefetch" href="/assets/DeployingWorkloads.html-Pg9uxfae.js" as="script"><link rel="prefetch" href="/assets/Labprep.html-BLbDAE6_.js" as="script"><link rel="prefetch" href="/assets/index.html-BMwNFeZ-.js" as="script"><link rel="prefetch" href="/assets/404.html-J5upWZjj.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-BoLdzQ4g.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="vp-site-name" aria-hidden="true">ktelep.github.io</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/bootcamps.html" aria-label="Bootcamps"><!---->Bootcamps<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/ntnxce.html" aria-label="CE"><!---->CE<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/bootcamps.html" aria-label="Bootcamps"><!---->Bootcamps<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/ntnxce.html" aria-label="CE"><!---->CE<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading" href="/aos_on_ahv_pc/" aria-label="AOS on AHV Bootcamp (PC)"><!---->AOS on AHV Bootcamp (PC)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/aos_on_ahv_pc/Configuration.html" aria-label="Configuration"><!---->Configuration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/aos_on_ahv_pc/DeployingWorkloads.html" aria-label="Deploying Workloads"><!---->Deploying Workloads<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active" href="/aos_on_ahv_pc/ManagingWorkloads.html" aria-label="Managing Workloads"><!---->Managing Workloads<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/aos_on_ahv_pc/DataProtection.html" aria-label="Data Protection"><!---->Data Protection<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/aos_on_ahv_pc/Labprep.html" aria-label="Lab Prep"><!---->Lab Prep<!----></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="managing-workloads" tabindex="-1"><a class="header-anchor" href="#managing-workloads"><span>Managing Workloads</span></a></h1><p>Now that you have a couple of VMs deployed, let&#39;s have some fun and explore some of the VM management tasks with AHV: power actions, searching, cloning, and migrating.</p><h2 id="power-actions-and-console-access" tabindex="-1"><a class="header-anchor" href="#power-actions-and-console-access"><span>Power Actions and Console Access</span></a></h2><p>Explore VM power actions and console access</p><ol><li><p>From the Sidebar, select “Compute &amp; Storage -&gt; VMs” or search “VMs” in the search bar and selecting “VMs -&gt; List”</p></li><li><p>Locate the Linux VM you created in the previous exercise.</p></li><li><p>Right click on the VM and choose <strong>Power On</strong> if it is not already started.</p><p>Note that the dot next to the VM turns from red to green when the VM is powered on</p></li><li><p>After the VM shows powered on, Right click on the VM and choose <strong>Launch Console</strong></p><p>The console window provides five actions: Mount ISO, Unmount ISO, Send Ctrl+Alt+Del, Take Screenshot, and Power Control</p><p><img src="/images/aos_on_ahv_wlm_con.png" alt="alt text"></p></li></ol><h2 id="cloning-virtual-machines" tabindex="-1"><a class="header-anchor" href="#cloning-virtual-machines"><span>Cloning Virtual Machines</span></a></h2><p>Cloning VMs is useful for making multiple duplicate copies of the same VM rapidly on the same cluster the VM currently resides.</p><ol><li><p>Right-click on your <em>Initials</em>-Linux VM, and choose Clone</p></li><li><p>Fill out the following fields:</p><ul><li>Name: <em>Initials-LinuxVM-1</em></li><li>Number of Clones: <em>2</em></li><li>Starting Index Number: <em>1</em></li></ul><div class="hint-container note"><p class="hint-container-title">There is an &quot;Advanced Configuration&quot; button here that will allow you to make additional changes to the VM such as changing the attached networking or CPU/Memory configuration, you are welcome to explore this later.</p></div><p><img src="/images/aos_on_ahv_wlm_clo.png" alt="alt text"></p></li><li><p>Click &quot;Next&quot;</p></li><li><p>Review the VM configuration, note how unless you&#39;ve used &quot;Advanced Configuration&quot; all of the VM configuration information is exactly the same as the original virtual machine. <img src="/images/aos_on_ahv_wlm_clo2.png" alt="alt text"></p></li><li><p>Click &quot;Clone VM&quot;</p></li></ol><h2 id="creating-templates" tabindex="-1"><a class="header-anchor" href="#creating-templates"><span>Creating Templates</span></a></h2><p>Templates are an extremely useful function for building out standard Virtual Machine configurations that can also be used across multiple clusters attached to the same Prism Central Instance. Typically you would use a tool such as sysprep for Windows or Cloud-Init for Linux to prepare the VM before creating a template from it.</p><p>Templates also have Versioning built in, so as you make changes to your image, you have the ability to retain previous versions or have test versions to work with.</p><ol><li><p>Power off your Windows Virtual Machine by right clicking on it and selecting &quot;Power Off&quot;</p></li><li><p>After the VM is powered off, right click on it and select &quot;Create VM Template&quot;</p><p><img src="/images/aos_on_ahv_wlm_tem.png" alt="Template"></p></li><li><p>Fill out the following fields:</p><ul><li>Name: <em>Initial</em>-Windows-Gold</li><li>Description: Template of Linux System</li><li>Guest Customization: No Changes</li></ul><p><img src="/images/aos_on_ahv_wlm_tem2.png" alt="Template"></p><div class="hint-container note"><p class="hint-container-title">AHV Templates support guest customizations for Windows with both a guided pathway or a provided unattended.xml file. Customization for Linux based OSes is via Cloud-Init script or a guided pathway also.</p></div></li><li><p>Click &quot;Next&quot; to Review the VM configuration, then Click &quot;Save&quot;</p><p>In the background AOS created a <strong>Recovery Point</strong> of your Template VM which is now available to be deployed to any cluster attached to this Prism Central. You could at this point delete the template VM, as the Recovery Point is retained as long as the Template exists.</p></li></ol><h2 id="working-with-templates" tabindex="-1"><a class="header-anchor" href="#working-with-templates"><span>Working with Templates</span></a></h2><ol><li><p>In the sidebar menu, click on &quot;Templates&quot;. You will see a list of all Templates available in Prism Central for deployment. The list provides information about the resources required, along with the last time the template was updated and the current Active Version</p><p><img src="/images/aos_on_ahv_wlm_tem3.png" alt="Template"></p></li><li><p>Click on the Name of your template to view information specific to the template, including information about the current active version and properties of that VM.</p><p><img src="/images/aos_on_ahv_wlm_tem4.png" alt="Template"></p></li><li><p>Now lets say that we need to add memory to this template, this will create a new &quot;Version&quot; for us to work with.</p><p>Click on the &quot;Actions&quot; menu and select &quot;Update Configuration&quot;</p><p><img src="/images/aos_on_ahv_wlm_tem5.png" alt="Template"></p></li><li><p>We only have the Initial Version, which is currently active so we can click &quot;Proceed&quot; however if we wanted to modify a specific version this is where we would select it.</p><p><img src="/images/aos_on_ahv_wlm_tem6.png" alt="Template"></p></li><li><p>Update the Memory for the Template to 16GB</p><p><img src="/images/aos_on_ahv_wlm_tem7.png" alt="Template"></p></li><li><p>Click Next until you reach the &quot;Review&quot; Tab. Note that you can make a variety of changes to the template including adding disks, changing or adding NICs, etc.</p></li><li><p>On the Review Tab, fill out the following fields:</p><ul><li>New Version Name: <em>Initials</em>-Windows-16G</li><li>Change Notes: <em>Gold Image with 16GB of Memory</em></li><li><em>CHECK</em> Yes, set this new version as active</li></ul><p><img src="/images/aos_on_ahv_wlm_tem8.png" alt="Template"></p></li><li><p>After Saving you will now see the updated Template overview, showing that there are two available versions, and the current active version is the one that we just set. Note that clicking the blue &quot;Deploy VMs&quot; button here will always deploy the <strong>Active</strong> Version of the Template</p><p><img src="/images/aos_on_ahv_wlm_tem10.png" alt="Template"></p></li><li><p>Clicking on Versions on the left will show you all versions of the Template that are available. Checking the box next to any version and clicking the blue &quot;Deploy VMs&quot; from this view will deploy the specific version that is selected.</p><p><img src="/images/aos_on_ahv_wlm_tem9.png" alt="Template"></p></li><li><p>We can also make changes to the OS, such as adding software or patching the OS of a template. From the Actions menu, select &quot;Update Guest OS&quot;</p><p><img src="/images/aos_on_ahv_wlm_tem11.png" alt="Template"></p></li><li><p>Again we will see the &quot;Select a version to Update&quot; prompt, note how it now shows the Active template as the default. Go ahead and click &quot;Proceed&quot;</p><p><img src="/images/aos_on_ahv_wlm_tem12.png" alt="Template"></p></li><li><p>An information window will appear showing how a VM will be deployed, you can update the guest OS, and then we will need to return to the Template page to complete the update. Click &quot;Proceed&quot;</p></li><li><p>The VM will be deployed, click the name of the virtual machine to be linked to the summary page for the VM. If you clicked Close instead, go to the VMs list and click on the name of the deployed VM there.</p><p><img src="/images/aos_on_ahv_wlm_tem13.png" alt="Template"></p></li><li><p>Power the VM on by clicking the &quot;More&quot; menu and selecting &quot;Power On&quot;</p><p><img src="/images/aos_on_ahv_wlm_tem14.png" alt="Template"></p></li><li><p>After the VM boots up, make any change to the VM, perhaps adding a file to the desktop, or installing some software via the console. Once you&#39;ve completed making some form of change, go ahead and power the VM back off.</p></li><li><p>Now that we&#39;ve completed our changes, we need to tell Prism Central that we&#39;re done. In the sidebar click on &quot;Templates&quot; and you will see your template listed, noting under the &quot;Updated On&quot; column it says &quot;Update Initiated&quot;. Click on these words.</p><p><img src="/images/aos_on_ahv_wlm_tem15.png" alt="Template"></p></li><li><p>You will see the following screen and go ahead and click on &quot;Complete Update&quot;</p><p><img src="/images/aos_on_ahv_wlm_tem16.png" alt="Template"></p><div class="hint-container note"><p class="hint-container-title">Clicking &quot;Cancel Update&quot; here will delete the temporary VM that was created and no changes will occur, as if you never initiated the Guest OS update process</p></div></li><li><p>On the final update screen, you&#39;ll fill out the following information:</p><ul><li>New Version Name: <em>Initials</em>-Windows-UpdatedOS</li><li>Change Notes: <em>Freeform field</em></li><li>Yes, set this new version as active: <em>CHECKED</em></li></ul><p><img src="/images/aos_on_ahv_wlm_tem17.png" alt="Template"></p></li><li><p>Click &quot;Complete Update&quot; to finish the update.</p></li><li><p>Clicking on the name of our Template and Versions will now show that we have 3 versions of the template, with the Active one being the most recent.</p><p><img src="/images/aos_on_ahv_wlm_tem18.png" alt="Template"></p></li></ol><h2 id="deploying-from-a-template" tabindex="-1"><a class="header-anchor" href="#deploying-from-a-template"><span>Deploying from a Template</span></a></h2><p>Now that we know all about templates creation and versioning, lets deploy one! You can deploy templates from within the &quot;Templates&quot; page in Prism Central but you may have noticed somewhere else templates can be deployed.</p><ol><li><p>From the Sidebar, select “Compute &amp; Storage -&gt; VMs” or search “VMs” in the search bar and selecting “VMs -&gt; List”</p><p><img src="/images/aos_on_ahv_wld_menu.png" alt="alt text"></p></li><li><p>Click the blue &quot;Create VM from Template&quot; button</p><p><img src="/images/aos_on_ahv_wlm_tem19.png" alt="Template"></p></li><li><p>Select your template in the VM Template drop down, and click &quot;Begin&quot;</p><p><img src="/images/aos_on_ahv_wlm_tem20.png" alt="Template"></p><div class="hint-container note"><p class="hint-container-title">When deploying a template from the VMs list, only the Active template will be deployed, if you&#39;d like to deploy a specific template, go into the Templates page, click on the name of the template and deploy from there</p></div></li><li><p>Fill out the following fields, then click &quot;Next&quot;</p><ul><li>Name: <em>Initials</em>-Windows-FromTemplate-1</li><li>Cluster: <em>Your Cluster</em></li><li>Number of VMs: 2</li></ul><p><img src="/images/aos_on_ahv_wlm_tem21.png" alt="Template"></p></li><li><p>Review the final configuration and click the &quot;Deploy&quot; button</p><p><img src="/images/aos_on_ahv_wlm_tem22.png" alt="Template"></p></li><li><p>You will now see two new VMs deployed from your template, you may optionally power them on and validate that they are the correct version of the VM.</p></li></ol><h2 id="takeaways" tabindex="-1"><a class="header-anchor" href="#takeaways"><span>Takeaways</span></a></h2><p>In this lab, you experienced how AHV provides a complete set of tools and actions that can be performed to manage VMs in the cluster.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: ktelep@gmail.com">Kurt Telep</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/aos_on_ahv_pc/DeployingWorkloads.html" aria-label="Deploying Workloads"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Deploying Workloads</span></div></a><a class="route-link auto-link next" href="/aos_on_ahv_pc/DataProtection.html" aria-label="Data Protection"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Data Protection</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CjI7Eko0.js" defer></script>
  </body>
</html>
